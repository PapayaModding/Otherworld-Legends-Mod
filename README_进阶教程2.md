# Otherworld-Legends-Mod è¿›é˜¶æ•™ç¨‹ ï¼ˆæ—§ç‰ˆï¼‰
åœ¨é˜…è¯»æœ¬æ•™ç¨‹å‰ï¼Œè¯·å…ˆå­¦ä¹ [åŸºç¡€æ•™ç¨‹](/README_ä¸­æ–‡.md)å’Œ[è¿›é˜¶æ•™ç¨‹](/README_è¿›é˜¶æ•™ç¨‹.md)ã€‚

ä½œè€…ï¼šKolyn090

æ•™ç¨‹æ¸¸æˆç‰ˆæœ¬ï¼šv2.10.0

ä½¿ç”¨Windows x64

æ•™ç¨‹æ—¥æœŸï¼š6/2/2025

æœ¬æ•™ç¨‹å°†æŒ‡å¼•ä½ ä¿®æ”¹å‚¨å­˜åœ¨SpriteAltasçš„å›¾åƒã€‚

![test](/images/advanced2/test.png)


ï¼ˆæˆæœå±•ç¤ºï¼Œæ²™åŒ…ï¼‰

å¦‚æœä½ å·²ç»å°è¯•ä½¿ç”¨åœ¨è¿›é˜¶æ•™ç¨‹ä¸­æè¿°çš„æ–¹å¼ä¿®æ”¹é™¤äººç‰©Spriteä»¥å¤–çš„å¤§éƒ¨åˆ†å›¾åƒï¼Œ
ä½ åº”è¯¥ä¼šå‘ç°è¯¥æ–¹æ³•å¯¹å…¶å‡ ä¹ä¸å¥æ•ˆã€‚è¿™æ˜¯å› ä¸ºå®ƒä»¬ä½¿ç”¨çš„æ˜¯SpriteAltasæ‰“åŒ…æ–¹æ³•ã€‚
å…¶ä¸­å¾ˆå¤§ä¸€éƒ¨åˆ†åŸå› æ˜¯å› ä¸ºæ–‡ä»¶çš„å¼•ç”¨æ— æ³•å¯¹å·ã€‚

å½“ä½ å­¦ä¼šæœ¬æ•™ç¨‹ä»¥åï¼Œä½ åº”è¯¥å¯ä»¥ä¿®æ”¹å¤§éƒ¨åˆ†æ¸¸æˆå›¾åƒè€Œä¸å—æºå›¾åƒå¤§å°é™åˆ¶ã€‚

âš¡ **è­¦å‘Š**ï¼šæ¨¡ç»„ä¿®æ”¹å¯èƒ½å¸¦æ¥æœªçŸ¥é£é™©ï¼ŒåŒ…æ‹¬æ¸¸æˆä¸ç¨³å®šã€å­˜æ¡£æŸåã€å…¼å®¹æ€§é—®é¢˜ï¼Œç”šè‡³å®‰å…¨æ¼æ´ã€‚åˆ‡è®°å¤‡ä»½æ¸¸æˆæ–‡ä»¶ï¼Œå¹¶è°¨æ…æ“ä½œã€‚
é£é™©è‡ªæ‹…â€”â€”å¦‚æœå‡ºç°é—®é¢˜ï¼Œæˆ‘æ— æ³•æ‰¿æ‹…è´£ä»»ã€‚

âš¡ **è­¦å‘Š**ï¼šè¯¥æ•™ç¨‹çš„æ“ä½œæµç¨‹éå¸¸å¤æ‚è€Œä¸”ç¹çï¼Œè¯·ä»”ç»†é˜…è¯»æ¯ä¸€æ­¥ã€‚å¦‚æœä½ é‡åˆ°é—®é¢˜å¯ä»¥å‘issueæé—®ã€‚

### æ­¥éª¤ä¸€
æœ¬æ•™ç¨‹å°†ä½¿ç”¨å®¢å…ä¸­çš„æ²™åŒ…ä½œä¸ºç¤ºä¾‹ã€‚ï¼ˆåœ¨æˆ‘çš„ç”µè„‘ï¼‰å®ƒçš„æ–‡ä»¶ä½ç½®ä¸ºï¼š
```
"C:\Program Files (x86)\Steam\steamapps\common\Otherworld Legends\Otherworld Legends_Data\StreamingAssets\aa\StandaloneWindows64\graphiceffecttextureseparatelygroup_assets_assets\sprites\unit\unit_other_pile.psd_0678876b821c494df01ee1384bec84f2.bundle"
```
ç„¶åæ˜¯è¦æ›¿æ¢çš„å›¾åƒï¼š

![sactx-0-128x128-BC7-unit_other_pile-1aae59fd](/images/advanced/sactx-0-128x128-BC7-unit_other_pile-1aae59fd.png)

[Credit](https://www.spriters-resource.com/pc_computer/pizzatower/sheet/193192/)

æ¥ç€ï¼Œæ‰“å¼€è¿›é˜¶æ•™ç¨‹ä¸­çš„Unityé¡¹ç›®ã€‚æ‰¾åˆ°Texture2Dã€‚

![texture2d_folder](/images/advanced2/texture2d_folder.png)

æˆ‘è¿™é‡Œå»ºè®®æŠŠä¹‹å‰å…³äºå¤©äººé“bossçš„æ•™ç¨‹æ”¾åœ¨å¦ä¸€ä¸ªæ–‡ä»¶å¤¹é‡Œã€‚ç„¶ååˆ›å»ºä¸€ä¸ªæ–°çš„æ–‡ä»¶å¤¹ï¼Œæ¯”å¦‚å«
â€˜Other_Pileâ€™ã€‚

æŠŠè¦æ›¿æ¢çš„å›¾åƒæ”¾åœ¨Other_Pileé‡Œã€‚æ¥ç€åœ¨Inspectorä¿®æ”¹å®ƒçš„å‚æ•°ã€‚

è¯·ç¡®ä¿ï¼š
1. Texture Typeæ˜¯Sprite(2D and UI)
2. Sprite Modeæ˜¯Multiple
3. Mesh Typeæ˜¯Full Rect
4. å…³é—­Generate Physics Shape
5. å¼€å¯Read/Write
6. Filter Modeæ˜¯Point(no filter)
7. Compressionæ˜¯None
8. ç‚¹å‡»Apply

è¿™æ¬¡æˆ‘ä»¬è¦æ‰‹åŠ¨ä¿®æ”¹Spritesheetï¼ˆSlice Spritesï¼‰ã€‚ç‚¹å‡»Sprite Editorã€‚

é¦–å…ˆæ˜¯æ²™åŒ…çš„åº•åº§ã€‚è¿™é‡Œæˆ‘ä»¬æ²¡æœ‰åº•åº§ï¼Œæ‰€ä»¥ç›´æ¥æ‰¾ä¸ªç©ºç™½çš„åœ°æ–¹ç”»æ¡†å°±è¡Œã€‚
**ä¸€å®šè¦æ³¨æ„è¦å–å’Œç¤ºä¾‹é‡Œä¸€æ ·çš„åå­—ã€‚**

![pilebase](/images/advanced2/pilebase.png)

ç„¶åæ˜¯æ²™åŒ…çš„ç¬¬ä¸€å¸§ã€‚æˆ‘ä»¬è¿™é‡Œåœ¨å·¦è¾¹çš„é›•åƒç”»æ¡†ã€‚åˆ‡è®°æŠŠPivotè°ƒæˆBottom Centerã€‚
ä½ ä¹Ÿå¯ä»¥ç”¨Customå¦‚æœä¼šçš„è¯ã€‚

![pile0](/images/advanced2/pile0.png)

æ¥ä¸‹æ¥è¿˜æœ‰ä¸ƒå¸§ï¼Œå…¨éƒ¨éƒ½ç”»åœ¨å³è¾¹çš„é›•åƒã€‚åˆ‡è®°æŠŠPivotè°ƒæˆBottom Centerã€‚
å–åè§ä¸‹æ–¹å›¾åƒã€‚
å®Œæˆåç‚¹å‡»Applyï¼Œä½ åº”è¯¥ä¼šçœ‹è§å’Œå›¾ç‰‡é‡Œä¸€æ¨¡ä¸€æ ·çš„Spritesã€‚

![pile_names](/images/advanced2/pile_names.png)

### æ­¥éª¤äºŒ

åœ¨Unityçš„Project Settingsé‡Œé¢ï¼Œæ‰¾åˆ°Sprite Packer-> Modeå¹¶è°ƒæˆ
Sprite Atlas V1 - Always Enabledã€‚

![proj-setting](/images/advanced2/proj-setting.png)

æ¥ç€ï¼Œåœ¨Texture2Dé‡Œé¼ æ ‡å³é”®ï¼Œæ‰¾åˆ°å¹¶åˆ›å»ºSprite Atlasã€‚
å°†å…¶å–åä¸ºâ€˜unit_other_pileâ€™

![create_atlas](/images/advanced2/create_atlas.png)

æ¥ç€è°ƒå®ƒçš„å‚æ•°ã€‚æŠŠFilter Modeè°ƒæˆPointã€‚
Compressionè°ƒæˆNoneã€‚
ç„¶åæŠŠæˆ‘ä»¬åˆšæ‰åˆ‡å¥½çš„Spriteså…¨éƒ¨æ”¾åˆ°Packablesä¸­ã€‚
(âš ï¸ ä¼¼ä¹åªèƒ½ä¸€ä¸ªä¸€ä¸ªæ”¾ï¼Œä¸è¿‡ä¸œè¥¿ä¸å¤šæ‰€ä»¥æ— ä¼¤å¤§é›…)

ç„¶åå°±æ˜¯æœ€é‡è¦çš„ï¼Œå’Œä¹‹å‰ä¸€æ ·ï¼Œè¦æŠŠè¿™ä¸ªæ–‡ä»¶æ‰“åŒ…ã€‚
åå­—å– â€˜sactx-0-128x128-bc7-unit-other-pileâ€™ã€‚

![atlas_setting](/images/advanced2/atlas_setting.png)

å¯¹äº†ï¼ŒæŠŠä¹‹å‰çš„Texture2Dä¹Ÿæ”¾é‡Œé¢ã€‚

![texture2d_pack](/images/advanced2/texture2d_pack.png)

ç„¶åè¿è¡Œâ€˜Tools/Build Bundlesâ€™ï¼ˆä¸Šä¸ªæ•™ç¨‹ç»™çš„ä»£ç ï¼‰ã€‚
æŸ¥çœ‹ä½ æ˜¯å¦æœ‰è¿™ä¸ªæ–°çš„æ–‡ä»¶ã€‚

![check_assetbundles](/images/advanced2/check_assetbundles.png)

### æ­¥éª¤ä¸‰

æ¥ä¸‹æ¥å°±æ˜¯è§£å†³æ–‡ä»¶å¼•ç”¨çš„é—®é¢˜äº†ã€‚è¿™ä¸ªéƒ¨åˆ†å¯èƒ½æœ‰ç‚¹éš¾ç†è§£è€Œä¸”éœ€è¦é‡å¤æ“ä½œã€‚
å…ˆæ¥çœ‹æˆ‘åšçš„å›¾ã€‚ç°åœ¨çœ‹ä¸æ‡‚æ²¡å…³ç³»ï¼Œç­‰ä½ å­¦å®Œè¿™ä¸ªéƒ¨åˆ†å°±ä¼šæ˜ç™½äº†ã€‚

![figma_diagram](/images/advanced2/figma_diagram.png)

Unityçš„Textureå¼•ç”¨ä½¿ç”¨çš„æ˜¯æœ‰ç¬¦å·æ•´æ•°ï¼ˆå¯è´Ÿå¯æ­£ï¼‰ã€‚ç®€å•æ¥è¯´ï¼Œä½ å¯ä»¥ç†è§£æˆIDã€‚æˆ‘ä»¬è¿™ä¸€æ­¥å°±æ˜¯è¦ä¿®æ”¹æˆ‘ä»¬ç”Ÿæˆåçš„AssetBundleä¸­çš„IDã€‚è¿™æ ·æ¸¸æˆæ‰èƒ½æ‰¾å¾—åˆ°è¿™äº›èµ„æºã€‚

å…·ä½“æ“ä½œï¼š

æ‰“å¼€UABEAã€‚æ‰“å¼€æˆ‘ä»¬åˆšåˆšæ‰“åŒ…å¥½çš„AssetBundle

![assetbundle_path](/images/advanced2/assetbundle_path.png)

é€‰æ‹©æ‰€æœ‰ SpriteAtlas å’Œ Sprites å¹¶Export Dumpã€‚
æŠŠå®ƒä»¬æ”¾åœ¨Unityé‡Œé¢çš„ My Dump æ–‡ä»¶å¤¹ã€‚å¯¹äº†ï¼Œæˆ‘å»ºè®®ä½ æŠŠDumpsè¿™ä¸ªæ–‡ä»¶å¤¹ä¹ŸåƒTexture2Dæ–‡ä»¶å¤¹ä¸€æ ·å…ˆæ•´ç†ä¸€ä¸‹ã€‚è¿™æ ·å¯¹åšå¤šä¸ªæ¨¡ç»„ä¼šæœ‰å¾ˆå¤§çš„å¸®åŠ©ã€‚

![organize_dumps](/images/advanced2/organize_dumps.png)

æˆ‘ä»¬è¿™æ¬¡å…¶å®ç”¨ä¸åˆ°Game Dumpå’ŒSource Dumpï¼Œå› ä¸ºæˆ‘ä»¬å°†æ‰‹åŠ¨æ›´æ”¹è¿™äº›Text Assetsã€‚

åœ¨ä»»æ„æ–‡æœ¬ç¼–è¾‘å™¨æ‰“å¼€è¿™äº›æ–‡ä»¶ï¼Œå‡†å¤‡ä¸‹ä¸€æ­¥ã€‚

---

æ‰“å¼€ä¸€ä¸ªæ–°çš„UABEAçª—å£ï¼Œä»æ¸¸æˆæ–‡ä»¶ä¸­æ‰¾åˆ°æ²™åŒ…çš„BUNæ–‡ä»¶å¹¶æ‰“å¼€ã€‚
åœ¨æˆ‘çš„ç”µè„‘é‡Œï¼Œè¯¥æ–‡ä»¶ä½ç½®ä¸ºï¼š

```
"C:\Program Files (x86)\Steam\steamapps\common\Otherworld Legends\Otherworld Legends_Data\StreamingAssets\aa\StandaloneWindows64\graphiceffecttextureseparatelygroup_assets_assets\sprites\unit\unit_other_pile.psd_0678876b821c494df01ee1384bec84f2.bundle"
```
ğŸ“ç°åœ¨æˆ‘ç”»çš„å›¾å°±èƒ½æ´¾ä¸Šç”¨åœºäº†ã€‚é¦–å…ˆä½ è¦æ˜ç™½<u>é»‘æ¡†ä¸­çš„å›¾éƒ½æ˜¯åœ¨UABEAä¸­æ‰“å¼€çš„ï¼Œè€Œé»‘æ¡†å¤–é¢çš„éƒ½æ˜¯
æˆ‘ä»¬å°†åœ¨ My Dump ä¸­çš„éœ€è¦æ”¹åŠ¨çš„ã€‚</u>çœ‹çœ‹ä½ èƒ½ä¸èƒ½æ‰¾å¾—åˆ°è¿™äº›æ–‡ä»¶ã€‚

åˆšæ‰æˆ‘ä»¬Export Dumpçš„æ—¶å€™åŒ…æ‹¬äº†ä¸¤ç§æ–‡ä»¶æ ¼å¼ - SpriteAtlas å’Œ Spriteã€‚

1. åœ¨SpriteAtlasè¿™ä¸ªæ–‡ä»¶çš„Dumpé‡Œï¼Œæ‰¾åˆ°`m_RenderDataMap/m_PathID`ï¼Œå¹¶æŠŠå®ƒæ”¹ä¸º
å’ŒMain Textureä¸€æ ·çš„IDã€‚ï¼ˆå¦‚æœä½ çœ‹è§äº†ä¸¤ä¸ªTexture2Dï¼Œé€‰ä¸æ˜¯sactxçš„é‚£ä¸ªï¼‰

2. åœ¨SpriteAtlasè¿™ä¸ªæ–‡ä»¶çš„Dumpé‡Œï¼Œæ‰¾åˆ°`m_PackedSprites`ï¼ˆæ³¨æ„è¿™æ˜¯ä¸ªæ•°ç»„ï¼Œä½ éœ€è¦
æ”¹æ¯ä¸€ä¸ªSpriteï¼‰ã€‚æŠŠå®ƒçš„`m_PathID`æ”¹æˆå¯¹åº”Spriteæ–‡ä»¶çš„IDã€‚ï¼ˆæ³¨æ„é¡ºåºå¾ˆé‡è¦ï¼è¿™ä¼šå†³å®šå›¾åƒçš„åŠ¨ç”»ã€‚ï¼‰
è¦å¦‚ä½•çŸ¥é“é¡ºåºï¼Ÿè¯·çœ‹`m_PackedSpriteNamesToIndex`è¿™ä¸ªåœ°æ–¹ï¼Œå®ƒå…¶ä¸­`data`è¿™ä¸ªæ•°æ˜¯å¯¹åº”
Spriteçš„åå­—çš„ï¼Œæ‰€ä»¥ä½ çš„`m_PathID`è¦å¯¹åº”è¿™äº›æ–‡ä»¶ã€‚

3. ç°åœ¨æ”¹æ¯ä¸€ä¸ªSpriteçš„Dumpæ–‡ä»¶ã€‚æ‰¾åˆ°`m_SpriteAtlas/m_PathID`ï¼ŒæŠŠå®ƒæ”¹æˆ
SpriteAtlasçš„IDï¼ˆâš ï¸åœ¨ç›®å‰UABEAä¸Šæ˜¾ç¤ºçš„ï¼‰ã€‚

å®Œæˆäº†è¿™äº›ä»¥åï¼ŒMy Dumpä¸­çš„æ–‡ä»¶å°±å¯ä»¥å®Œç¾æ›¿æ¢æºæ¸¸æˆæ–‡ä»¶äº†ã€‚

### æ­¥éª¤å››

æ¥ä¸‹æ¥å°±å’Œæˆ‘ä»¬ä»¥å‰åšçš„å¾ˆåƒäº†ã€‚åœ¨UABEAé‡Œï¼Œä½ ç›®å‰æ‰“å¼€çš„å°±æ˜¯æºæ¸¸æˆæ–‡ä»¶æ‰€ä»¥ä¸ç”¨æ‰“å¼€æ–°çš„ã€‚
ç„¶ååšä»¥ä¸‹æ­¥éª¤ï¼š
1. æŠŠsactx...è¿™ä¸ªTexture2Dæ–‡ä»¶ç”¨Plugins -> Edit Textureæ¢æˆUnity Texture2Dé‡Œé¢çš„é›•åƒå›¾åƒã€‚
2. ç”¨Import Dumpï¼ŒæŠŠSpriteAtlasæ–‡ä»¶çš„Dumpæ¢æˆæˆ‘ä»¬ä¹‹å‰ä¿®æ”¹è¿‡çš„ã€‚
3. ç”¨Import Dumpï¼ŒæŠŠæ‰€æœ‰Spriteæ–‡ä»¶çš„Dumpæ¢æˆæˆ‘ä»¬ä¹‹å‰ä¿®æ”¹è¿‡çš„ã€‚

ç°åœ¨æˆ‘ä»¬è¿˜æœ‰ä¸€ä»¶å¾ˆé‡è¦çš„äº‹è¦å®Œæˆã€‚
ç”¨AssetStudioï¼Œæ‰“å¼€æˆ‘ä»¬çš„Bundleæ–‡ä»¶ã€‚ç„¶åæ‰¾åˆ°å¼€å¤´ä¸ºâ€˜sactxâ€™çš„Texture2Dæ–‡ä»¶ã€‚
Export -> Selected Assets, ä¿å­˜åˆ°Texture2Dæ–‡ä»¶å¤¹é‡Œã€‚

![save_atlas](/images/advanced2/save_atlas.png)

æ‰“å¼€UABEAï¼Œå†æ‰“å¼€æ¸¸æˆæ–‡ä»¶ä¸­æ²™åŒ…çš„BUNæ–‡ä»¶ã€‚ç”¨Plugins -> Edit Textureæ›¿æ¢Main Texture(**ä¸æ˜¯sactxå¼€å¤´çš„é‚£ä¸ª**)Texture2Dæ–‡ä»¶ã€‚

åšå®Œè¿™äº›åè¿è¡Œä¸€ä¸‹åŸºç¡€æ•™ç¨‹çš„æ­¥éª¤äº”ï¼ˆaddrtoolï¼‰å°±å¤§åŠŸå‘Šæˆäº†ã€‚

![test](/images/advanced2/test.png)

---

æœ¬æ•™ç¨‹ç”±Kolyn090ï¼ˆbilibiliï¼šæœ¨ç“œå‡ä¹³è›‹ç™½é…¶ï¼‰æ’°å†™ã€‚

å¦‚æœä½ è§‰å¾—è¿™ä¸ªæ•™ç¨‹å¯¹ä½ æœ‰å¸®åŠ©ï¼Œå¯ä»¥è€ƒè™‘ç»™æ­¤æ•™ç¨‹ä¸€ä¸ªStarã€‚






















































































